{"version":3,"sources":["components/Form.js","services/numbers.js","App.js","index.js"],"names":["Form","_ref","persons","handleAction","react_default","a","createElement","Fragment","map","person","key","id","name","number","onClick","e","baseUrl","numbers","axios","get","then","response","data","personObject","post","console","log","concat","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","filteredPerson","setFilteredPerson","_useState11","_useState12","erroMessage","setErrorMessage","useEffect","personService","initialPersons","checkFilter","val","i","length","toLowerCase","includes","App_Notification","type","value","onChange","event","target","onSubmit","preventDefault","hasMatch","checkExistence","returnedPerson","handleSetPerson","components_Form","result","window","confirm","catch","error","updatedPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cb681163.chunk.js","sourcesContent":["import React from 'react'\n\nconst Form = ({persons,handleAction}) => {\n\n    return (\n      <>\n      {\n        persons.map(person => (\n          <div key={person.id}>\n          <p>{person.name} {person.number}</p>\n          <button onClick={\n            (e) => {\n              handleAction(person)\n              }\n            }>\n            delete\n            </button> \n          </div>\n        ))\n      }\n      </>\n    )\n  }\n\nexport default Form","import axios from 'axios'\n\nconst baseUrl = \"http://localhost:3001/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data )\n}\n\nconst create = (personObject) => {\n    const request = axios.post(baseUrl,personObject)\n    return request.then(response => response.data)\n}\n\nconst deleteVal = (personObject) => {\n    console.log(`${personObject.id} is to be deleted`)\n    const request = axios.delete(`${baseUrl}/${personObject[\"id\"]}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteVal}","import React, { useState,useEffect } from 'react'\nimport Form from './components/Form'\nimport './index.css'\nimport personService from './services/numbers'\n\nconst Notification = ({message}) => {\n\n  if(message == null) {\n    return null;\n  }\n\n  return (\n    <div className=\"error\"> \n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n  const [newFilter,setNewFilter]  = useState('')\n  const [filteredPerson,setFilteredPerson] = useState({})\n  const [erroMessage, setErrorMessage] = useState(null)\n  \n  const hook = ()=> {\n    // console.log(\"effect\")\n    personService.getAll().then(initialPersons => {\n      // console.group(\"promise fulfilled\")\n      setPersons(initialPersons)\n      // console.log(initialPersons)\n    })  \n  }\n  useEffect(hook, [persons])\n\n\n  const checkExistence = (val) => {\n    let hasMatch = false\n    for (let i = 0;i < persons.length; ++i ) {\n      var person = val[\"name\"]\n      if(persons[i][\"name\"] === person) {\n        hasMatch = true\n        break\n      }\n    }\n    return hasMatch\n  }\n  const checkFilter = (val) => {\n    \n    for (let i = 0;i < persons.length; ++i ) {\n      let personName = persons[i][\"name\"]\n      if(personName.toLowerCase().includes(val)) {\n        // console.log(persons[i])\n        setFilteredPerson(persons[i])\n      }\n    }\n  }\n\n  const handleSetPerson = (personObject) => {\n    personService.create(personObject).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n    })\n  }\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name : newName,\n      number : newNumber,\n      id : persons.length + 1\n    }\n    checkExistence(personObject) ? setErrorMessage(`${personObject.name} is already added to the phonebook`) : handleSetPerson(personObject)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handlePhoneChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    let person = checkFilter(newFilter)\n    checkFilter(person)\n  }\n\n\n  const handleAction = (person) => {\n    const result = window.confirm(`Do you want to delete ${person.name} from contacts`)\n    console.log(result)\n    result && personService.deleteVal(person)\n    .then(response => {console.log()})\n    .catch(error => console.log(\"error\"))\n    \n    personService.getAll().then(updatedPersons => {\n      setPersons(updatedPersons)\n    })  \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={erroMessage}/>\n      <input type=\"text\" value={newFilter} onChange={handleFilterChange}/>\n\n      <p> {filteredPerson[\"name\"]} {filteredPerson[\"number\"]} </p>\n\n      <h2>add a new</h2>\n\n      <form onSubmit={handleFormSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <br/>\n        <div>\n          number: <input value={newNumber} onChange={handlePhoneChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Form persons={persons} handleAction={handleAction}/>\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}